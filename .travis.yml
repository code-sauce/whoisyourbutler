matrix:
  include:
  - language: node_js
    node_js:
    - iojs
    - '7'
    before-install:
    - npm i -g npm to update
    install:
    - npm install -g jasmine
    - npm install -g jasmine-node
    - jasmine init
    - jasmine examples
    script: jasmine
  - language: python
    python: '2.6'
    install:
    - pip install pytest
    script: pytest
  - language: python
    python: '2.7'
    env: FOO=bar
    install:
    - pip install pytest
    script: pytest
  - language: python
    python: '3.4'
    install:
    - pip install pytest
    script: pytest
  - language: python
    python: pypy
    install:
    - pip install pytest
    script: pytest
  - sudo: required
    language: python
    services: docker
    before_install:
    - docker build -t codesauce/whoisyourbutler .
    install: pip install pytest
    script: pytest
    after_success:
    - pip install awscli
    - export PATH=$PATH:$HOME/.local/bin
    - aws ecr get-login --region us-east-1
    - eval $(aws ecr get-login --region us-east-1 --no-include-email)
    - if [ "$TRAVIS_BRANCH" == "master" ]; then docker login -u="$DOCKER_USERNAME"
      -p="$DOCKER_PASSWORD"; docker push codesauce/whoisyourbutler; docker --version;
      docker build -t whoisyourbutler . ; docker tag whoisyourbutler:latest 050429994862.dkr.ecr.us-east-1.amazonaws.com/whoisyourbutler:latest
      ; docker push 050429994862.dkr.ecr.us-east-1.amazonaws.com/whoisyourbutler:latest
      ; fi
env:
  global:
  - secure: oPT+EnnognLRPQXmE3RmZB3/Tf0Qj21HG5+oaybyTHtK3EGm686Xr+d2xzJazayywz2RRZxpmnO3Pt0i5eukvAwM8Tv9AWHj7H7yOSkyearC85f1a0UlGpeqtWtwPJIpLBF+gLVWbHRZsTgf7k1jzQ9eIJ1JNgckCp6FFnEDuyhf/BK5xhSN0WEWwLbWoVhswGDnc90gMVpa6auKs7EN+YHrfJQqY4YWG3b1VGWarmCx60lvG8RP6phsLYN6lXKkPGFe463dCPLpwv5l97Hej5i/gLVduyceli20RsPfSv6CtjvKcKGQZr8989aEvmfawGNjsP+SYmgoWR+qeK3YHqfQTAnjFj3Isdx6M9jgIgp8zle6PO6TFISCGJMAHYzU4k9rD5hXE2xGFcyQEX97b4gnI+9mQ7i07/rGFkCVBqlboy+z90v9KUm8IkjNXkoy62mnfOL5FguIT69upFWNPVIKY9GPSe2C/TaZsswuSBYkM11eqZG/4UbRL6ka3kiJfr1aY3nPi+2pjcxGCywtQpSHegzw7MlSlVfm3YbMkNN4AKVsKfL++egqkzENyB5HvD9qap8RLcsrrjkLQOCTrbeET7ZAJYBH0uu266iUAIhi3UPf6CpCgkw6s6gFnaa5nOvpAbP4lJl8+9z+llVm6YuMczqMNgVdAnVFhFWBcVU=
  - secure: hNrXfTBtb6dtbw0MxtlLQp145ZdXjQMvas6LLffmwoRDZ1ziPIWx9cdjsM7QuDUqMbncRfYd7vEch0m55oXEYXDTAS1qhBPA4cJgCjq2il+3MuOdumKmcRGHPhXfB0+ZS4xtlYHYY1Yr8FRYR3bf9PwO33PZgr9gRTwkuUStxJufVnMKdj/loXsP0Ziej+v8b1eq6wPRNYfX316TMMDkN3yGA1oispjeEqb5KOZwdNal9C+nMBfu2DbLyZMH+MYbXPX4l6SVzj2LNcgiWBDFuf2HIORTnNplw+fH1ARCO8W9ofoTu8qCr94TSyKNPGNici2tFzBaVU/FpGVCT3DRaMGGMsXHGSzkt5YAXW9dK0VmRUmh4Dd96ZWARQ1FfMTBkA6kH9eXIW/227YXEqBJKLWCJFl5QHkD1fu85wHMEmC+LmI2zSZoibS0wwURp6tmleX6KAZbHcDTzX0uRDz0BxdxsPO1EIsDGICI7W3EaSLtDcip2zA27wXwnCcD228WOO4TpVS2naQyTBim4GwOO3/fJILtfegZkPvQJWDQmGhQEnx4QJ6pwWsu9pBCuteBncHFYk71nXq0mKb1jFVH6xeobiBmtvZkbfD2FRRHWzMkC9aVA+18AmJf7wL7yVxEOOndxT6EiTqvyGfc4zesqMlZnWzv7UIqXvzvChExIDc=
  - secure: pizKDFSl9xhvOqo+k/g8UqUQeQcEh9hscr53HNn3EWIg54luzqe7rRvhjPNqeH0daLGDpkSu227vMSXob/ykjbyiFigERfgLY78w9uYvSOU61Bpyl0DBQngYPRjCy0yE1y/8oJ70V5lLKHPJluiIIhcjVnEVjkA7Cdijy8RaI3plwRNhQPM1UVJSObcl1WmJwNfI2tZAkOZMvR1bJDIrGSohERMGny8J6twm9LnFEMSI9tgsQKeFq1F+BjMYw3LLFg8LFmGhca68yH5eJdCK0uaeIt80t6gFb1I1UT+++Jj7lS39xxTVGT5HdAL0OOCwMM6y2uWIuUl8pJThafPNUGWKSsn/ayxT774V/OSo0D8vkRrYCbrsyP+v0GEmsKoWJiIuj6gYeQdJUS5SaM+XIQqk6AEKSDXOa0GrxTKlqzpJBodhuaQDl0y+7q5LkszN8jjtR/uMT8VSTC2cnBo5ghPUmRvL4RFB6oKv1FZ5CGh0KDOvM89y+wsEoc+zwCuUKx68q+i7pY6hDRTLmEHEDSZA4jlq220kP2pTx7GJmOOWyImoZaollzFpJGCcteOjqM76hm/aNFjzW4SIp9g2zUOPvx6nWH6kUOmRnblpJkM1xCGzNj7vfd+ukrcj5nZCgELTl3sCC9ys6g31a+vy+z0EmGxk981UNKNpzpGKCL0=
  - secure: JtCxWnXpVjFSM1oaCosULH82wi2pDh0WUt5Nj/x6YVHUQpisohBn/KeiMXELOZfGNWfp5OQsbk/smujAqmk+3c5yXiDb25LMFwHD9Lusw9xAfqBLljmkKmMYAa/FaOwSE86pbYImOQqg1R9GIY/K4r1ftuZw1sF0pBsLpboQqSwYodQy6AiWrlS83iTqkodG6uaFpJwMdty44rwpqN9HgYG5E5oMM2f2WqB/093OXak4HJW/ug7gXpETbpG+4URDFCRVNrzovMmm2Up0J3C3mKu6DqzizaxoXfyhp7YJM4fFNW640Y3ugYi//ZEsQxVS/ou6uNCrTSkYRJT21cTbTqCbfkOo8U2sAAhB8v0/UBnCrMz8zEi0KHWPdwvwLkcyZCX3jJ4GskIcY+b2pQ+BN21G+zoUT2ieIJgpc+KBtZMtm5jiuZoK8HJoghR6Lj0YJOpR+YIU69LONohCCM51O1qm3OsfNUZASrw6ZgI4HKOQoLRW+6bwO9dWkFcjiDrUb1n5CFOOZgheORUAh6jb6Nt8oVkqIQNkzkmss3qohlFmZj/40UWT+uOMg1Vhm5BZVUbLboqpbs5AJIQvYtvq281DwddkQBX5iQkh7shaDkcpXvhdb9fs1a08iaB35Skp6/Ks94Shm8HKz9W0YKxN6PAFwkHQWcz1s9E8D8KbUP4=
  - secure: ZaJgpd4fpIrVfdPthhbuD8Oo94Ccx5wYNJjLuX2yidk6t+WEYxWij7Xvu119LA56OcUYunEkpxLd2NtDTaEjOLWtDjgN3pWgMeDBUJ/m0Jr7nbBkhg7q/nPQNCvGZxada9zWogxem4DemEzvPpSTgJ4qNa5t0ze8wKKm4ng8r7sBDGaGgFYtpMNSdkvTc3cjD4TFwNW2UCQ549iv5RraucA/WmFtF20zrQkwo6lPPxbScJFylcQOP1TqSRa6IDmG0AskVIkGMfUt/+38MYli2+GXCdcB5ng+pK9bxK92PisqfrnJUSIS6T8TZAuVRCGwsE9WYGGTP7px1Wry5eY8etY1bW/59JjME3r4HLGrjTdaETJZf7G+G/Q7qVTtQnhH81+rWJYw4Q/dfLrUGixhzZ/NhNXdsKDQQ9zhxDf4iQ6IUSVzUUvK0H2GLYRPjIvC1XQDKGWldqdYPhdIVd/20fo09cEHIJvEkcMgaMqFnWi+8JdcumKpilHpxVwLgMdJW92HR/xi2hza6yZaPkP+KcMxChP5JsrkZbJbLAvZafLk21xDeSyCF1tdsQPIxTEC36LReidZ+AFilBf1dJ05sqI1RZG4AA4tAB90X4EZ8mJf7bCbzQWOSXMu31fuagze/rKZ+DJg3Ykhft26kTpXfoir2QkU+4V0nPooIXByMXs=
deploy:
  provider: s3
  access_key_id: AKIAIZIDUA22TTHDJR4A
  secret_access_key:
    secure: TY1SU7aiPCTit7WAAd4Se27YsajPg5+cDjV535iComryOHjGA4o+PyiCDBSvpmpNx6qSGndYA0ydn6OohdtutX1LsLXe8CxDevw1XSXcyynCQ+UraZkDNtdIwGdKXntoiugGeceCYBxnQBRzvY2U4begs6EJuGwlobSnt3UM3B6+ynEe4p3Zwm+v17F52jRkQCnNkzjdeiJCNl+fLncE+8Nez9sooXoZsUXhJNY8iBIPQ956MuDgYhWe5lr1QJVjyfXKrJ/EdCqZkUfPUF6nCrbYcSUkPniZ6QzFF1zYqWNeKY/2HW2HIXVHfHVhtRl95CE6eKEHOFWGbcOlEuXmrGZu7BDCCy33/WDlCe9jK6KACzfFR8WanuNjewWnqbhXdSN3MhRp6pLl5IgdR4mk7lb2FNQtd0s0nZb/RNsXMwuW3c6iVzz4+nLHQsoNWqhyds+RPXIX5Vb6h11GjI9uniDc04ssvw0AbL4pgo89kJPRefJ1eSxt9oToK2HW771QKvlNud1SHgQTpBU7JzV8bYEnoUep6qV4gpsjcBHelSaV0mG+OLzvfQj5VNR3piwMSzbrhGmC59nBQnWKZ4S3DUFBz9Exu2CQozJL1+ZM2Bq+5caZD1yu16aeXIUaNbde4S9TiB5PD7oDea+RPCAzmshp0ATa1LmyIgkZWbgS0qc=
  bucket: whoisyourbutler.deployment
  local-dir: build
  upload-dir: build
  acl: public_read_write
  on:
    repo: code-sauce/whoisyourbutler
notifications:
  slack:
    secure: mX6FMD2GjMuWoxxQSx5Ptu8R77z1WomKK6GMNLlsjLWxasF2Uc4YPT2GsgIAk9bNoWUihlKv6u1A2ho3HADzXR4hghBKJs3lrfhmPK8V10r5655VoeTLzlzDEn337fYaGEZiUc/bikDc0fK3qR/C1vcMZVog7y8fS2h80GXsBqTq+vVxVVYvyTvSiDB87wbzURAZc7tApobysPiEMZRgHxtaK7djliDHfyE6Ho9pMGsmGoaAYbwGsFQvnZh1ZEeacaI9Kx7wohrCTXHf4uK79qQxEd6TD7rR00Scvks1D4KcRxJUiQz5uuyhXeReHGk/4vpU3KUNpOgWEvQKmRS5AW3XfmHoLWCWEYlbSpyzMXJ1GqXIrJi65TrM6vRpMzSNaFEcojVSKaXp3bkWXxveUhKSXcp+Sdwtod9dkWBmti5PdlUdO77MLwRTJ7EY1btiDEtuWBYZWe3s43s+Cxcd2Bsi1PV43tRQC+3hvuL4JSqBor1lp3H1SWu0HxdVwj5RsyfUrItDVoWmYxp+2VOzLyvLzORQ1XnKMZI9lbhLEX7aw/fZFx8A/nT0pm9rikAUlQqfMOji1KH7Z5+YId8kmHdliRkYqMeIuuzeX8FGf1kF1nOH7wtgMpyW/VSbtZhdycuURpe8da7leM002xsNNzL1qUDNIsnYSOAA5cBkVDI=
